%!TEX root = mb.tex

\section{Evaluation} \label{sec:eval}

To evalute \sys, we try to answer two questions:

\begin{enumerate}
\item What kind of middleboxes can \sys support?

\item What is the performance overhead \sys brings?
\end{enumerate}

\todo{do we want to have a section on whether it changes the processing at the middlebox? 
perhaps also a discussion
of how easy it is to setup/configure/admin support for gateway?}

microbenchmark boundary encryption, IDS encryption, range match, equality

\subsection{Functionality}

Table~\ref{tab:apps} lists the various applications supported in the APLOMB model~\cite{aplomb} 
and whether \sys supports them. 

\begin{table}[t!]
\begin{tabular}{p{3cm}|p{1.4cm}|p{2cm}|p{1cm}}
Application & \sys supports? & Operations used & Details \\
\hline \hline
IP Firewall &  Yes  &  & \S\ref{sec:firewall} \\
Application Firewall & XX & & \S\ref{sec:firewall}\\
NAT & Yes  & & \S\ref{sec:nat} \\
IP Forwarding & & & \\
VPN Gateway & Yes & none & \S\ref{sec:vpn} \\ 
Load Balancer L4 & & & \S\ref{sec:loadb}\\
Load Balancer L7 & & & \S\ref{sec:loadb}\\
WAN optimizer  & & & \S\ref{sec:not_supp}\\
Web proxy/cache forward/ reverse & & & \S\ref{sec:proxy}\\
IDS & & & \S\ref{sec:IDS}\\
Exfiltration/parental filtering & & & \S\ref{sec:IDS} \\
\todo{split this} 
\end{tabular}
\caption{Middlebox applications supported by \sys. \label{tab:apps}}
\end{table}

\todo{L4 firewall vs the other firewalls}
\todo{some notes on this table from talking to Justine -- e.g., add what needs to be modified}
cannot support reverse proxy and wan optimization -- explain why -- also these are causing problems to aplomb that some consider not even putting on cloud 


Table for IDS:

\begin{table}[t]
  \centering
  \begin{tabular}{l|c|c}
    {\bf Dataset}&{\bf SEC I.}&{\bf SEC II.}\\
    \hline
    Document Watermarking~\cite{CMU_exfiltration_report}&100\%&100\%\\
    \hline
    Snort Community (HTTP)&\twosnortcom&100\%\\
    \hline
    Snort Emerging Threats (HTTP)&\twosnortemerge&100\%\\
    \hline
    StoneSoft (McAffee) IDS&40\%&100\%\\
    \hline
    LastLine IDS&29.1\%&100\%\\
  \end{tabular}
  \caption[]{\label{tbl:coverage} Fraction of attack signatures in public and industrial signature\
 sets addressable with security guarantees I and II explained in \S\ref{sec:BB} \label{tab:BB_sec_func}. }
\end{table}




\subsection{Performance evaluation}


